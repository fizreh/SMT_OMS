<div *ngIf="loading">Loading order details...</div>
<div *ngIf="error">{{ error }}</div>

<h2>Order Details</h2>

<div class="toggle">
  <button 
    [class.active]="viewMode === 'formatted'"
    (click)="setView('formatted')">
    Formatted View
  </button>

  <button 
    [class.active]="viewMode === 'json'"
    (click)="setView('json')">
    JSON View
  </button>
</div>

<hr />

<!-- FORMATTED VIEW -->
<div *ngIf="order && viewMode === 'formatted'">
  <p><strong>Name:</strong> {{ order.Name }}</p>
  <p><strong>Description:</strong> {{ order.Description }}</p>
  <p><strong>Date:</strong> {{ order.OrderDate }}</p>

  <h3>Boards</h3>
  <div *ngFor="let board of order.Boards">
    <h4>{{ board.Name }} - {{ board.Description }}</h4>
    <p></p>

    <h4>Components</h4>
    <ul>
      <li *ngFor="let comp of board.Components">
        {{ comp.Name }} â€” Qty: {{ comp.Quantity }}
      </li>
    </ul>
  </div>
</div>

<!-- JSON VIEW -->
<pre *ngIf="order && viewMode === 'json'">
{{ order | json }}
</pre>